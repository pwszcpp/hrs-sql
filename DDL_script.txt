-- Generated by Oracle SQL Developer Data Modeler 4.1.5.907
--   at:        2017-11-08 12:33:11 CET
--   site:      Oracle Database 11g
--   type:      Oracle Database 11g

CREATE
  TABLE Training
  (
    Id        INTEGER NOT NULL ,
    Company   VARCHAR2 (24) ,
    From_Day  DATE ,
    Until_Day DATE ,
    Price     NUMBER ,
    Constent  CHAR (1) ,
    Place     VARCHAR2 (24) ,
    Theme     VARCHAR2 (48) ,
    Author_Id INTEGER NOT NULL
  ) ;
ALTER TABLE Training ADD CONSTRAINT Training_PK PRIMARY KEY ( Id ) ;


CREATE
  TABLE Training_list
  (
    Training_ID INTEGER NOT NULL ,
    Users_ID    INTEGER NOT NULL ,
    Note        VARCHAR2 (24)
  ) ;
ALTER TABLE Training_list ADD CONSTRAINT Relation_1_PK PRIMARY KEY (
Training_ID, Users_ID ) ;


CREATE
  TABLE Users
  (
    Id        INTEGER NOT NULL ,
    Role      VARCHAR2 (24) ,
    Password  VARCHAR2 (24) ,
    Status    VARCHAR2 (24) ,
    Pass_Expr DATE
  ) ;
ALTER TABLE Users ADD CONSTRAINT Users_PK PRIMARY KEY ( Id ) ;


ALTER TABLE Training_list ADD CONSTRAINT FK_ASS_1 FOREIGN KEY ( Training_ID )
REFERENCES Training ( Id ) ON
DELETE CASCADE ;

ALTER TABLE Training_list ADD CONSTRAINT FK_ASS_2 FOREIGN KEY ( Users_ID )
REFERENCES Users ( Id ) ;

ALTER TABLE Training ADD CONSTRAINT Training_Users_FK FOREIGN KEY ( Author_Id )
REFERENCES Users ( Id ) ;
